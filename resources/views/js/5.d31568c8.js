(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"781f":function(s,t,r){"use strict";r.r(t);var e=function(){var s=this,t=s.$createElement,r=s._self._c||t;return r("q-page",{staticClass:"flex flex-center",attrs:{padding:""}},[r("q-card",{staticStyle:{"min-width":"500px"}},[r("q-form",{on:{submit:function(t){return s.submit()}}},[r("q-toolbar",{staticClass:"bg-primary glossy text-white"},[r("q-toolbar-title",[s._v("Login")])],1),r("q-card-section",{staticClass:"q-gutter-sm"},[r("q-input",{attrs:{label:"Correo Electrónico",rules:[s.rules.required("email")]},on:{input:function(t){return s.clearErrors("email")}},scopedSlots:s._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"people"}})]},proxy:!0}]),model:{value:s.form.email,callback:function(t){s.$set(s.form,"email",t)},expression:"form.email"}}),r("q-input",{attrs:{type:s.isPwd?"password":"text",label:"Contraseña",rules:[s.rules.required("password")]},on:{input:function(t){return s.clearErrors("password")}},scopedSlots:s._u([{key:"append",fn:function(){return[r("q-icon",{staticClass:"cursor-pointer",attrs:{name:s.isPwd?"visibility_off":"visibility"},on:{click:function(t){s.isPwd=!s.isPwd}}})]},proxy:!0},{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"lock"}})]},proxy:!0}]),model:{value:s.form.password,callback:function(t){s.$set(s.form,"password",t)},expression:"form.password"}})],1),r("q-card-actions",[r("q-btn",{staticClass:"full-width glossy",attrs:{color:"primary",rounded:"",type:"submit",loading:s.loading}},[s._v("\n          Ingresar\n        ")])],1)],1)],1)],1)},o=[];r("5319");const i={titlecase(s){return s.replace(/_/g," ").replace(/[\u00C0-\u1FFF\u2C00-\uD7FF\w]+\s*/g,s=>s.charAt(0).toUpperCase()+s.substr(1))}};var a=i,n={data:()=>({loading:!1,valid:!0,labels:{},form:{},rules:{},errors:{}}),created(){for(const s in this.form)if(null!==this.form[s]&&"object"===typeof this.form[s])for(const t in this.form[s]){const r=s+"."+t;this.errors[r]=[],this.labels[r]||(this.labels[r]=a.titlecase(t))}else this.errors[s]=[],this.labels[s]||(this.labels[s]=a.titlecase(s));this.rules.required=s=>t=>!!t||"The "+(this.labels&&this.labels[s]&&this.labels[s].toLowerCase()+" ")+"field is required"},methods:{handleErrors(s){s?this.setErrors(s):this.clearErrors()},setErrors(s){for(const t in this.errors)this.errors[t]=s[t]||[]},clearErrors(s=!1){if(s)this.errors[s].length&&(this.errors[s]=[]);else for(const t in this.errors)this.errors[t]=[]}}},l={name:"Index",mixins:[n],data(){return{form:{email:null,password:null},isPwd:!0}},created(){this.form.email=this.$route.query.email||null},methods:{submit(){this.loading=!0,this.$axios.post("login",this.form).then(s=>{this.$store.dispatch("auth/saveToken",s.data),this.$store.dispatch("auth/setUser",s.data),this.$router.push({name:"index"}),this.$q.notify({message:"Bienvenido",color:"positive",icon:"check",position:"bottom-right"})}).catch(s=>{console.log(s)}).then(()=>{this.loading=!1})}}},c=l,u=r("2877"),d=r("9989"),h=r("f09f"),p=r("0378"),f=r("65c6"),m=r("6ac5"),b=r("a370"),w=r("27f9"),g=r("0016"),q=r("4b7e"),y=r("9c40"),x=r("eebe"),C=r.n(x),v=Object(u["a"])(c,e,o,!1,null,null,null);t["default"]=v.exports;C()(v,"components",{QPage:d["a"],QCard:h["a"],QForm:p["a"],QToolbar:f["a"],QToolbarTitle:m["a"],QCardSection:b["a"],QInput:w["a"],QIcon:g["a"],QCardActions:q["a"],QBtn:y["a"]})}}]);